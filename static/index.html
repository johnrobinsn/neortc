<!DOCTYPE html>
<html>
  <head>
    <title>Multimodal Chat</title>
    <meta charset="UTF-8" />
    <link href="/styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  </head>
  <body>
    <div id="panelcontainer">
      <img id="menubutton" src='bars-solid.svg'><br/>
      <div id="panel">
        
        <div id="watching"></div>
        <div id="peers"></div>
        <div id="contexts">some contexts for you</div>

        version:<div id="version"></div>

        status:<div id='sockStatus'>disconnected</div>
        peerStatus:<div id="peerStatus">peerStatus</div>    
        <!-- <div style="visibility: collapse;"> -->
        <section class="select">
          <label for="audioSource">Audio source: </label>
          <select id="audioSource"></select>
        </section>
    
        <section class="select">
          <label for="videoSource">Video source: </label>
          <select id="videoSource"></select>
        </section>        

        <video id="local_video" playsinline autoplay muted></video> 

      </div>
    </div>

    <audio id="remote-audio" autoplay playsinline></audio>

    <div class="chat-container">
    <div id="chat-log"></div>

    <div id="send-div">
      <textarea id="sendTxt" class="user"></textarea>
      <button id="sendBtn"><i class="fa-solid fa-microphone"></i></button>
    </div>
  </div>
   
    <script src="/socket.io.js"></script>
    <script src="/index.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      $(document).ready((e)=>{
        console.log('in onload')
        $('#menubutton').click(function(){
          console.log('clicked')
          if ( $('#panel').css('visibility') == 'hidden' )
            $('#panel').css('visibility','visible');
          else
            $('#panel').css('visibility','hidden');
        })
      })
    </script>    
  </body>
</html>
